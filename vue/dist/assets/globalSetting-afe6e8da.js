import{Y as te,Z as le,d as O,j as ae,av as oe,w as E,$ as U,ao as R,l as q,u as ue,aw as de,ax as ie,h as $,c as l,a as P,ay as se,az as ce,g as z,aA as re,P as c,aB as G,k as X,aC as he,o as C,y as F,n as s,r as n,ai as k,m as V,C as B,p as g,z as M,v as b,S as W,aD as fe,I as me,x as I,A as j,q as D,E as ve,aE as ge,aF as pe,aG as _e,aH as be,V as Ce,U as ke,X as we}from"./index-a7932720.js";import{N as H,_ as Y,F as ye}from"./numInput-acb759a9.js";import{g as Se,C as $e}from"./shortcut-09836165.js";/* empty css              *//* empty css              */var Te=le("small","default"),xe=function(){return{id:String,prefixCls:String,size:c.oneOf(Te),disabled:{type:Boolean,default:void 0},checkedChildren:c.any,unCheckedChildren:c.any,tabindex:c.oneOfType([c.string,c.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:c.oneOfType([c.string,c.number,c.looseBool]),checkedValue:c.oneOfType([c.string,c.number,c.looseBool]).def(!0),unCheckedValue:c.oneOfType([c.string,c.number,c.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function}},Ie=O({compatConfig:{MODE:3},name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:xe(),slots:["checkedChildren","unCheckedChildren"],setup:function(e,d){var p=d.attrs,y=d.slots,r=d.expose,h=d.emit,a=ae();oe(function(){E(!("defaultChecked"in p),"Switch","'defaultChecked' is deprecated, please use 'v-model:checked'"),E(!("value"in p),"Switch","`value` is not validate prop, do you mean `checked`?")});var t=U(e.checked!==void 0?e.checked:p.defaultChecked),_=R(function(){return t.value===e.checkedValue});q(function(){return e.checked},function(){t.value=e.checked});var m=ue("switch",e),f=m.prefixCls,N=m.direction,T=m.size,S=U(),x=function(){var o;(o=S.value)===null||o===void 0||o.focus()},u=function(){var o;(o=S.value)===null||o===void 0||o.blur()};r({focus:x,blur:u}),de(function(){ie(function(){e.autofocus&&!e.disabled&&S.value.focus()})});var v=function(o,w){e.disabled||(h("update:checked",o),h("change",o,w),a.onFieldChange())},A=function(o){h("blur",o)},J=function(o){x();var w=_.value?e.unCheckedValue:e.checkedValue;v(w,o),h("click",w,o)},Q=function(o){o.keyCode===G.LEFT?v(e.unCheckedValue,o):o.keyCode===G.RIGHT&&v(e.checkedValue,o),h("keydown",o)},ee=function(o){var w;(w=S.value)===null||w===void 0||w.blur(),h("mouseup",o)},ne=R(function(){var i;return i={},$(i,"".concat(f.value,"-small"),T.value==="small"),$(i,"".concat(f.value,"-loading"),e.loading),$(i,"".concat(f.value,"-checked"),_.value),$(i,"".concat(f.value,"-disabled"),e.disabled),$(i,f.value,!0),$(i,"".concat(f.value,"-rtl"),N.value==="rtl"),i});return function(){var i;return l(re,{insertExtraNode:!0},{default:function(){return[l("button",P(P(P({},se(e,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),p),{},{id:(i=e.id)!==null&&i!==void 0?i:a.id.value,onKeydown:Q,onClick:J,onBlur:A,onMouseup:ee,type:"button",role:"switch","aria-checked":t.value,disabled:e.disabled||e.loading,class:[p.class,ne.value],ref:S}),[l("div",{class:"".concat(f.value,"-handle")},[e.loading?l(ce,{class:"".concat(f.value,"-loading-icon")},null):null]),l("span",{class:"".concat(f.value,"-inner")},[_.value?z(y,e,"checkedChildren"):z(y,e,"unCheckedChildren")])])]}})}}});const Z=te(Ie);const L="/infinite_image_browsing/fe-static/assets/sample-55dcafc6.webp",Fe=["width","height","src"],Ve=O({__name:"ImageSetting",setup(K){function e(y,r){return new Promise(h=>{const a=new Image;a.onload=()=>{const t=document.createElement("canvas");t.width=a.width*r,t.height=a.height*r,t.getContext("2d").drawImage(a,0,0,t.width,t.height),h(t.toDataURL())},a.src=y})}const d=X(),p=U("");return q(()=>[d.enableThumbnail,d.gridThumbnailResolution],he(async()=>{d.enableThumbnail&&(p.value=await e(L,d.gridThumbnailResolution/1024))},300),{immediate:!0,deep:!0}),(y,r)=>{const h=Y,a=Z;return C(),F(M,null,[l(h,{label:n(k)("defaultGridCellWidth")},{default:s(()=>[l(H,{min:64,max:1024,step:32,modelValue:n(d).defaultGridCellWidth,"onUpdate:modelValue":r[0]||(r[0]=t=>n(d).defaultGridCellWidth=t)},null,8,["modelValue"])]),_:1},8,["label"]),l(h,{label:n(k)("useThumbnailPreview")},{default:s(()=>[l(a,{checked:n(d).enableThumbnail,"onUpdate:checked":r[1]||(r[1]=t=>n(d).enableThumbnail=t)},null,8,["checked"])]),_:1},8,["label"]),n(d).enableThumbnail?(C(),V(h,{key:0,label:n(k)("thumbnailResolution")},{default:s(()=>[l(H,{modelValue:n(d).gridThumbnailResolution,"onUpdate:modelValue":r[2]||(r[2]=t=>n(d).gridThumbnailResolution=t),min:256,max:1024,step:64},null,8,["modelValue"])]),_:1},8,["label"])):B("",!0),l(h,{label:n(k)("livePreview")},{default:s(()=>[g("div",null,[g("img",{width:n(d).defaultGridCellWidth,height:n(d).defaultGridCellWidth,src:n(d).enableThumbnail?p.value:n(L)},null,8,Fe)])]),_:1},8,["label"])],64)}}}),Be={class:"panel"},Me={style:{"margin-top":"0"}},Ue={class:"lang-select-wrap"},Ke={class:"col"},Ne={class:"col"},Ae={class:"col"},Pe={class:"col"},De=O({__name:"globalSetting",setup(K){const e=X(),d=U(!1),p=async()=>{window.location.reload()},y=[{value:"en",text:"English"},{value:"zhHans",text:"简体中文"},{value:"zhHant",text:"繁體中文"},{value:"de",text:"Deutsch"}],r=(a,t)=>{const _=Se(a);_&&(e.shortcut[t]=_)},h=async()=>{await ge("shutdown_api_server_command"),await pe.removeFile(_e),await be()};return(a,t)=>{const _=Z,m=Y,f=Ce,N=$e,T=ke,S=ye;return C(),F("div",Be,[B("",!0),l(S,null,{default:s(()=>{var x;return[g("h2",Me,b(n(k)("ImageBrowsingSettings")),1),l(Ve),g("h2",null,b(n(k)("other")),1),l(m,{label:a.$t("onlyFoldersAndImages")},{default:s(()=>[l(_,{checked:n(e).onlyFoldersAndImages,"onUpdate:checked":t[0]||(t[0]=u=>n(e).onlyFoldersAndImages=u)},null,8,["checked"])]),_:1},8,["label"]),l(m,{label:a.$t("defaultSortingMethod")},{default:s(()=>[l(n(W),{value:n(e).defaultSortingMethod,"onUpdate:value":t[1]||(t[1]=u=>n(e).defaultSortingMethod=u),conv:n(fe),options:n(me)},null,8,["value","conv","options"])]),_:1},8,["label"]),l(m,{label:a.$t("longPressOpenContextMenu")},{default:s(()=>[l(_,{checked:n(e).longPressOpenContextMenu,"onUpdate:checked":t[2]||(t[2]=u=>n(e).longPressOpenContextMenu=u)},null,8,["checked"])]),_:1},8,["label"]),l(m,{label:a.$t("lang")},{default:s(()=>[g("div",Ue,[l(n(W),{options:y,value:n(e).lang,"onUpdate:value":t[3]||(t[3]=u=>n(e).lang=u),onChange:t[4]||(t[4]=u=>d.value=!0)},null,8,["value"])]),d.value?(C(),V(f,{key:0,type:"primary",onClick:p,ghost:""},{default:s(()=>[I(b(n(k)("langChangeReload")),1)]),_:1})):B("",!0)]),_:1},8,["label"]),(C(!0),F(M,null,j(n(e).ignoredConfirmActions,(u,v)=>(C(),V(m,{label:a.$t(v+"SkipConfirm"),key:v},{default:s(()=>[l(N,{checked:n(e).ignoredConfirmActions[v],"onUpdate:checked":A=>n(e).ignoredConfirmActions[v]=A},null,8,["checked","onUpdate:checked"])]),_:2},1032,["label"]))),128)),g("h2",null,b(n(k)("shortcutKey")),1),l(m,{label:a.$t("download")},{default:s(()=>[g("div",Ke,[l(T,{value:n(e).shortcut.download,onKeydown:t[5]||(t[5]=D(u=>r(u,"download"),["stop","prevent"])),placeholder:a.$t("shortcutKeyDescription")},null,8,["value","placeholder"]),l(f,{onClick:t[6]||(t[6]=u=>n(e).shortcut.download=""),class:"clear-btn"},{default:s(()=>[I(b(a.$t("clear")),1)]),_:1})])]),_:1},8,["label"]),l(m,{label:a.$t("deleteSelected")},{default:s(()=>[g("div",Ne,[l(T,{value:n(e).shortcut.delete,onKeydown:t[7]||(t[7]=D(u=>r(u,"delete"),["stop","prevent"])),placeholder:a.$t("shortcutKeyDescription")},null,8,["value","placeholder"]),l(f,{onClick:t[8]||(t[8]=u=>n(e).shortcut.delete=""),class:"clear-btn"},{default:s(()=>[I(b(a.$t("clear")),1)]),_:1})])]),_:1},8,["label"]),(C(!0),F(M,null,j(((x=n(e).conf)==null?void 0:x.all_custom_tags)??[],u=>(C(),V(m,{label:a.$t("toggleTagSelection",{tag:u.name}),key:u.id},{default:s(()=>[g("div",Ae,[l(T,{value:n(e).shortcut[`toggle_tag_${u.name}`],onKeydown:D(v=>r(v,`toggle_tag_${u.name}`),["stop","prevent"]),placeholder:a.$t("shortcutKeyDescription")},null,8,["value","onKeydown","placeholder"]),l(f,{onClick:v=>n(e).shortcut[`toggle_tag_${u.name}`]="",class:"clear-btn"},{default:s(()=>[I(b(a.$t("clear")),1)]),_:2},1032,["onClick"])])]),_:2},1032,["label"]))),128)),n(ve)?(C(),F(M,{key:0},[g("h2",null,b(n(k)("clientSpecificSettings")),1),l(m,null,{default:s(()=>[g("div",Pe,[l(f,{onClick:h,class:"clear-btn"},{default:s(()=>[I(b(a.$t("initiateSoftwareStartupConfig")),1)]),_:1})])]),_:1})],64)):B("",!0)]}),_:1})])}}});const We=we(De,[["__scopeId","data-v-a56cd1af"]]);export{We as default};
